{"version":3,"sources":["../libs/render.js"],"names":[],"mappings":";;;;;;;;qBAAkB,OAAO;;;;wBACL,UAAU;;;;4BACX,eAAe;;;;;;;;;;qBAOnB,UAAS,QAAQ,EAAa;MAAX,IAAI,yDAAG,EAAE;;AACzC,MAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAC9B,QAAQ,sBAAoB,QAAQ,AAAE,CAAA;;AAExC,SAAO,+BAAO,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AACzC,QAAI;AACF,aAAO,sBAAQ,OAAO,CAAC,wBAAM,IAAI,CAAC,CAAC,CAAA;KACpC,CAAC,OAAO,GAAG,EAAE;AACZ,aAAO,sBAAQ,MAAM,CAAC,GAAG,CAAC,CAAA;KAC3B;GACF,CAAC,CAAA;CACH","file":"render.js","sourcesContent":["import juice from 'juice'\nimport Promise from 'bluebird'\nimport render from 'pkghub-render'\n\n/**\n * 根据给定的主题名称或者文件名称渲染邮件\n * @example\n *   render('mails-flat/message', {...}).then(inlineHTML).catch(err)\n */\nexport default function(template, data = {}) {\n  if (template.indexOf('/') === -1)\n    template = `mails-default/${template}`\n\n  return render(template, data).then(html => {\n    try {\n      return Promise.resolve(juice(html))\n    } catch (err) {\n      return Promise.reject(err)\n    }\n  })\n}"]}